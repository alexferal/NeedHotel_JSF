<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<f:view>
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Need Hotel</title>
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
        <h:outputStylesheet library="css" name="style.css"/>
        <h:outputStylesheet name="css/materialize.min.css"></h:outputStylesheet>
    </h:head>

    <h:body styleClass="blue-grey darken-1">
        <div Class="container white  principal">
            <h3>Cadastro</h3>
            <h:panelGroup rendered="#{cadastroImovel.etapaCadastro == 'ETAPA1'}">
                <h6>Dados Pessoais</h6>
                <div class="row">
                    <h:form styleClass="col s12">
                        <div class="row">
                            <div class="input-field col s12">
                                <h:outputLabel value="Nome do Imóvel" for="nome"></h:outputLabel>
                                <p:inputText id="nome"   value="#{cadastroImovel.imovel.nome}" placeholder="Ex.: ED. Rozana Soares" required="true" requiredMessage="Campo nome obrigatório"></p:inputText>
                                <h:message for="nome" styleClass="red-text" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <h:outputLabel value="Rua do Imóvel" for="rua"></h:outputLabel>
                                <p:inputText id="rua" value="#{cadastroImovel.imovel.rua}" placeholder="Ex.: rua Santa Cecilia" required="true" requiredMessage="Campo rua obrigatório"></p:inputText>
                                <h:message for="rua" styleClass="red-text" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <h:outputLabel value="Número" for="numero"></h:outputLabel>
                                <p:inputText maxlength="10" converterMessage="Valor invalido, apenas números permitidos" id="numero" value="#{cadastroImovel.imovel.numero}" placeholder="Ex.: 233" required="true" requiredMessage="Campo número obrigatório">
                                    <f:convertNumber integerOnly="true"/>
                                </p:inputText>
                                <h:message for="numero" styleClass="red-text" />
                            </div>
                            <div class="input-field col s6">
                                <h:outputLabel value="Cep" for="cep"></h:outputLabel>
                                <p:inputText id="cep" validatorMessage="Cep Invalido" value="#{cadastroImovel.imovel.cep}" placeholder="Ex.: 00000-000" required="true" requiredMessage="Campo cep obrigatório">
                                    <f:validateRegex pattern="[0-9]{5}-[\d]{3}"/>
                                </p:inputText>
                                <h:message for="cep" styleClass="red-text" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <h:outputLabel value="Bairro" for="bairro"></h:outputLabel>
                                <p:inputText id="bairro" value="#{cadastroImovel.imovel.bairro}" placeholder="Ex.: Centro" required="true" requiredMessage="Campo Bairro obrigatório"></p:inputText>
                                <h:message for="bairro" styleClass="red-text" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <h:outputLabel value="Cidade" for="cidade"></h:outputLabel>
                                <p:inputText id="cidade" value="#{cadastroImovel.imovel.cidade}" placeholder="Ex.: Cidadópolis" required="true" requiredMessage="Campo cidade obrigatório"></p:inputText>
                                <h:message for="cidade" styleClass="red-text" />
                            </div>
                            <div class="input-field col s6 center">
                                <p:selectOneMenu required="true" requiredMessage="Campo estado obrigatório" style="width: 100%" id="estado" value="#{cadastroImovel.imovel.estado}">
                                    <f:selectItem itemLabel="Selecione um estado" itemValue="" />
                                    <f:selectItems value="#{cadastroImovel.estados}" />
                                </p:selectOneMenu>
                                <h:message for="estado" styleClass="red-text" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <h:outputLabel value="Diária" for="diaria"></h:outputLabel>
                                <p:inputText id="diaria" converterMessage="Valor inválido, apenas números permitidos" value="#{cadastroImovel.imovel.valor}" placeholder="Ex.: 150,00" required="true" requiredMessage="Campo valor obrigatório">
                                    <f:convertNumber pattern="#,##0.00" minFractionDigits="2"  />
                                </p:inputText>
                                <h:message for="diaria" styleClass="red-text" />
                            </div>
                        </div>

                        <div class="col s12 center">
                            <p:commandButton  value="Voltar"/>
                            <p:commandButton update="@form"  action="#{cadastroImovel.salvar}" value="Proximo"/>
                        </div>
                    </h:form>
                </div>
            </h:panelGroup>
            <h:panelGroup rendered="#{cadastroImovel.etapaCadastro == 'ETAPA2'}">
                <h6>Comodidades</h6>
                <div class="row">
                    <h:form enctype="multipart/form-data" styleClass="col s12">
                        <div class="row">
                            <div class="input-field col s6">
                                <p:selectCheckboxMenu required="true" requiredMessage="Campo comodidade obrigatório" id="multiple" value="#{cadastroImovel.comodidadesSelecionadas}" label="Comidades" multiple="true"
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:440px" style="width: 100%">
                                    <f:selectItems value="#{cadastroImovel.comodidades}" />
                                </p:selectCheckboxMenu>
                                <h:message for="multiple" styleClass="red-text"/>
                            </div>
                            <div class="row" style="margin-bottom: 0px;">
                                <div class="input-field col s12">
                                    <h:outputLabel value="Descrição" for="descricao"></h:outputLabel>
                                    <p:inputTextarea required="true" requiredMessage="Campo descrição obrigatório" id="descricao" value="#{cadastroImovel.imovel.descricao}" rows="5" cols="30" counter="display" maxlength="500" counterTemplate="{0} caracteres restantes" autoResize="false" />
                                    <h:message for="descricao" styleClass="red-text"/>
                                    <br />
                                    <h:outputText id="display" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s12">
                                    <p:fileUpload required="true" id="foto" requiredMessage="Campo foto obrigátorio" value=""  label="Foto do Imóvel" mode="simple" skinSimple="true"/>
                                    <h:message for="foto" styleClass="red-text"/>
                                </div>
                            </div>

                            <div class="col s12 center">
                                <p:commandButton styleClass="waves-effect waves-green btn-flat" value="Cancelar"></p:commandButton>
                                <p:commandButton styleClass="waves-effect waves-green btn-flat" action="#{cadastroImovel.cadastrar}" value="Cadastrar"></p:commandButton>
                            </div>
                        </div>
                    </h:form>
                </div>
            </h:panelGroup>
        </div>
    </h:body>
</f:view>
<h:outputScript href="https://code.jquery.com/jquery-1.10.2.js"></h:outputScript>
<h:outputScript name="js/materialize.js"></h:outputScript>
<h:outputScript name="js/materialize.min.js"></h:outputScript>
</html>